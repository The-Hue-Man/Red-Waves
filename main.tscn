[gd_scene load_steps=18 format=3 uid="uid://hbgtattk8upt"]

[ext_resource type="PackedScene" uid="uid://cpmcxta1lrmst" path="res://tilesets/tile_map.tscn" id="1_addwt"]
[ext_resource type="PackedScene" uid="uid://jw6wvouvwwfk" path="res://entities/player/player.tscn" id="1_ci8gl"]
[ext_resource type="Script" path="res://main.gd" id="1_wtlb5"]
[ext_resource type="Shader" path="res://entities/player/flash.gdshader" id="2_up8ij"]
[ext_resource type="PackedScene" uid="uid://3ahcv24obb5n" path="res://entities/enemies/slime/slime.tscn" id="3_k852e"]
[ext_resource type="PackedScene" uid="uid://dveysy1ncdv5y" path="res://static_objects/tree/big_red_tree.tscn" id="4_3otkt"]
[ext_resource type="PackedScene" uid="uid://bksw3rfrgifsc" path="res://entities/enemies/big_slime/big_slime.tscn" id="5_jwhah"]
[ext_resource type="Script" path="res://entities/player/camera.gd" id="6_7sdl6"]
[ext_resource type="PackedScene" uid="uid://bwusi8cl1dq2t" path="res://entities/enemies/enemy_spawn_path.tscn" id="6_w12l0"]
[ext_resource type="Script" path="res://ui/ui_root.gd" id="8_6wv44"]
[ext_resource type="PackedScene" uid="uid://ejlfi1ow2ugj" path="res://ui/end_screen.tscn" id="8_ycpgi"]
[ext_resource type="AudioStream" uid="uid://brtdy2cqfqg3i" path="res://sounds/death.wav" id="12_5575v"]
[ext_resource type="AudioStream" uid="uid://b7yajxtctnbr7" path="res://sounds/music/offtrack_intro.wav" id="13_r7xlf"]
[ext_resource type="AudioStream" uid="uid://dbsssgbk2r1w4" path="res://sounds/music/hope.wav" id="15_cl731"]
[ext_resource type="PackedScene" uid="uid://cdlcwobseo370" path="res://static_objects/see_tree/see_tree.tscn" id="15_pdwmp"]
[ext_resource type="PackedScene" uid="uid://dyxkr3hnc8e0y" path="res://entities/enemies/biggest_slime/biggest_slime.tscn" id="16_jt1p4"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kivws"]
resource_local_to_scene = true
shader = ExtResource("2_up8ij")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_modifer = 0.0

[node name="Main" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_wtlb5")

[node name="Player" parent="." instance=ExtResource("1_ci8gl")]
material = SubResource("ShaderMaterial_kivws")
position = Vector2(-465, -500)
max_health = 5

[node name="EnemySpawnPath" parent="Player" node_paths=PackedStringArray("tile_map") instance=ExtResource("6_w12l0")]
unique_name_in_owner = true
position = Vector2(-337, -160)
tile_map = NodePath("../../TileMap")
enemies_spawned = Array[PackedScene]([ExtResource("3_k852e"), ExtResource("3_k852e"), ExtResource("5_jwhah")])

[node name="Camera2D" type="Camera2D" parent="Player"]
process_callback = 0
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_left_margin = 0.05
drag_top_margin = 0.05
drag_right_margin = 0.05
drag_bottom_margin = 0.05
script = ExtResource("6_7sdl6")

[node name="TileMap" parent="." instance=ExtResource("1_addwt")]

[node name="Trees" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Tree42" parent="Trees" instance=ExtResource("15_pdwmp")]
position = Vector2(960, 1310)

[node name="Tree43" parent="Trees" instance=ExtResource("15_pdwmp")]
position = Vector2(1337, 474)

[node name="Tree44" parent="Trees" instance=ExtResource("15_pdwmp")]
position = Vector2(-537, -441)

[node name="Tree45" parent="Trees" instance=ExtResource("15_pdwmp")]
position = Vector2(-447, -380)

[node name="Tree46" parent="Trees" instance=ExtResource("15_pdwmp")]
position = Vector2(-387, -479)

[node name="Tree47" parent="Trees" instance=ExtResource("15_pdwmp")]
position = Vector2(838, 1052)

[node name="Tree6" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(129, 662)

[node name="Tree7" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(594, 441)

[node name="Tree8" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(964, 474)

[node name="Tree9" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(556, 926)

[node name="Tree39" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1122, 1289)

[node name="Tree40" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1011, 1166)

[node name="Tree41" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1219, 1238)

[node name="Tree10" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(628, 279)

[node name="Tree" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-325, -263)

[node name="Tree31" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-189, -579)

[node name="Tree2" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(74, 258)

[node name="Tree3" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(395, 264)

[node name="Tree4" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(502, 138)

[node name="Tree5" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(31, -176)

[node name="Tree11" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(716, 1261)

[node name="Tree12" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(694, 1391)

[node name="Tree13" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(156, 987)

[node name="Tree14" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(974, 1159)

[node name="Tree15" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1239, 923)

[node name="Tree16" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1249, 307)

[node name="Tree17" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1126, 380)

[node name="Tree18" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1108, 975)

[node name="Tree19" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1409, 335)

[node name="Tree20" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1163, 510)

[node name="Tree21" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-325, 560)

[node name="Tree22" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-496, 502)

[node name="Tree23" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-588, 1435)

[node name="Tree24" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(947, 1475)

[node name="Tree25" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(625, 1124)

[node name="Tree26" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-160, 844)

[node name="Tree27" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-627, 119)

[node name="Tree28" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(713, 799)

[node name="Tree29" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1202, 489)

[node name="Tree30" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(699, 174)

[node name="Tree32" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(427, 1532)

[node name="Tree33" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(301, 1302)

[node name="Tree34" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(576, 1111)

[node name="Tree35" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(951, 1016)

[node name="Tree36" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(709, 1074)

[node name="Tree37" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(825, 1280)

[node name="Tree38" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(839, 1174)

[node name="UIRoot" type="CanvasLayer" parent="." node_paths=PackedStringArray("end_screen")]
script = ExtResource("8_6wv44")
end_screen = NodePath("EndScreen")

[node name="EndScreen" parent="UIRoot" instance=ExtResource("8_ycpgi")]
visible = false

[node name="EnemyDeathSounds" type="AudioStreamPlayer2D" parent="."]
unique_name_in_owner = true
stream = ExtResource("12_5575v")
pitch_scale = 4.21
max_polyphony = 10
bus = &"SoundEffects"

[node name="IntroPlayer" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("13_r7xlf")
volume_db = -2.0
autoplay = true
mix_target = 1
bus = &"Music"

[node name="LoopPlayer" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("15_cl731")
volume_db = -3.0
bus = &"Music"

[node name="EnemiesStartSpawning" type="Timer" parent="."]
wait_time = 10.7
one_shot = true
autostart = true

[node name="BiggestSlime" parent="." instance=ExtResource("16_jt1p4")]
position = Vector2(-191, -366)
max_health = 10

[node name="big_slime" parent="." instance=ExtResource("5_jwhah")]
position = Vector2(-223, -477)
max_health = 3

[node name="Slime" parent="." instance=ExtResource("3_k852e")]
position = Vector2(-338, -374)

[connection signal="finished" from="IntroPlayer" to="." method="_on_intro_player_finished"]
[connection signal="timeout" from="EnemiesStartSpawning" to="." method="_on_enemies_start_spawning_timeout"]
