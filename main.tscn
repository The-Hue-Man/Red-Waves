[gd_scene load_steps=17 format=3 uid="uid://hbgtattk8upt"]

[ext_resource type="PackedScene" uid="uid://cpmcxta1lrmst" path="res://tilesets/tile_map.tscn" id="1_addwt"]
[ext_resource type="PackedScene" uid="uid://jw6wvouvwwfk" path="res://entities/player/player.tscn" id="1_ci8gl"]
[ext_resource type="Script" path="res://main.gd" id="1_wtlb5"]
[ext_resource type="Shader" path="res://entities/player/flash.gdshader" id="2_up8ij"]
[ext_resource type="PackedScene" uid="uid://3ahcv24obb5n" path="res://entities/enemies/slime/slime.tscn" id="3_k852e"]
[ext_resource type="PackedScene" uid="uid://dveysy1ncdv5y" path="res://static_objects/tree/big_red_tree.tscn" id="4_3otkt"]
[ext_resource type="PackedScene" uid="uid://bksw3rfrgifsc" path="res://entities/enemies/big_slime/big_slime.tscn" id="5_jwhah"]
[ext_resource type="Script" path="res://entities/player/camera.gd" id="6_7sdl6"]
[ext_resource type="PackedScene" uid="uid://bwusi8cl1dq2t" path="res://entities/enemies/enemy_spawn_path.tscn" id="6_w12l0"]
[ext_resource type="Script" path="res://ui/ui_root.gd" id="8_6wv44"]
[ext_resource type="PackedScene" uid="uid://ejlfi1ow2ugj" path="res://ui/end_screen.tscn" id="8_ycpgi"]
[ext_resource type="AudioStream" uid="uid://brtdy2cqfqg3i" path="res://sounds/death.wav" id="12_5575v"]
[ext_resource type="AudioStream" uid="uid://b7yajxtctnbr7" path="res://sounds/music/offtrack_intro.wav" id="13_r7xlf"]
[ext_resource type="AudioStream" uid="uid://dxi4vwamd8rth" path="res://sounds/music/offtrack_loopfinal.wav" id="14_i4bgb"]
[ext_resource type="PackedScene" uid="uid://cdlcwobseo370" path="res://static_objects/see_tree/see_tree.tscn" id="15_pdwmp"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kivws"]
resource_local_to_scene = true
shader = ExtResource("2_up8ij")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_modifer = 0.0

[node name="Main" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_wtlb5")

[node name="Player" parent="." instance=ExtResource("1_ci8gl")]
material = SubResource("ShaderMaterial_kivws")
position = Vector2(420, 175)

[node name="EnemySpawnPath" parent="Player" node_paths=PackedStringArray("tile_map") instance=ExtResource("6_w12l0")]
unique_name_in_owner = true
position = Vector2(-337, -160)
tile_map = NodePath("../../TileMap")
enemies_spawned = Array[PackedScene]([ExtResource("3_k852e"), ExtResource("3_k852e"), ExtResource("5_jwhah")])

[node name="Camera2D" type="Camera2D" parent="Player"]
process_callback = 0
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_left_margin = 0.05
drag_top_margin = 0.05
drag_right_margin = 0.05
drag_bottom_margin = 0.05
script = ExtResource("6_7sdl6")

[node name="TileMap" parent="." instance=ExtResource("1_addwt")]

[node name="Trees" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Tree6" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-3, 646)

[node name="Tree7" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(589, 433)

[node name="Tree8" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(929, 503)

[node name="Tree9" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(73, 730)

[node name="Tree39" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1117, 1270)

[node name="Tree40" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1075, 1246)

[node name="Tree41" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1208, 1209)

[node name="Tree10" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(619, 290)

[node name="Tree" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-327, -261)

[node name="Tree31" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-160, -487)

[node name="Tree2" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(63, 234)

[node name="Tree3" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(395, 280)

[node name="Tree4" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(486, 138)

[node name="Tree5" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(7, -184)

[node name="Tree11" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-241, 1582)

[node name="Tree12" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(710, 1391)

[node name="Tree13" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(172, 990)

[node name="Tree14" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(990, 1138)

[node name="Tree15" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1234, 875)

[node name="Tree16" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1260, 304)

[node name="Tree17" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1120, 372)

[node name="Tree18" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1083, 950)

[node name="Tree19" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1549, 636)

[node name="Tree20" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1148, 565)

[node name="Tree21" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-369, 547)

[node name="Tree22" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-480, 529)

[node name="Tree23" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-588, 1435)

[node name="Tree24" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(254, 1463)

[node name="Tree25" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(618, 1135)

[node name="Tree26" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-80, 879)

[node name="Tree27" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-633, 108)

[node name="Tree28" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(736, 803)

[node name="Tree29" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(1202, 489)

[node name="Tree30" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(699, 174)

[node name="Tree32" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(427, 1532)

[node name="Tree33" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-111, 1131)

[node name="Tree34" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(576, 1111)

[node name="Tree35" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(951, 1016)

[node name="Tree36" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(709, 1074)

[node name="Tree37" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-153, 1614)

[node name="Tree38" parent="Trees" instance=ExtResource("4_3otkt")]
position = Vector2(-139, 1508)

[node name="UIRoot" type="CanvasLayer" parent="." node_paths=PackedStringArray("end_screen")]
script = ExtResource("8_6wv44")
end_screen = NodePath("EndScreen")

[node name="EndScreen" parent="UIRoot" instance=ExtResource("8_ycpgi")]
visible = false

[node name="EnemyDeathSounds" type="AudioStreamPlayer2D" parent="."]
unique_name_in_owner = true
stream = ExtResource("12_5575v")
pitch_scale = 4.21
max_polyphony = 10

[node name="IntroPlayer" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("13_r7xlf")
autoplay = true
mix_target = 1

[node name="LoopPlayer" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("14_i4bgb")
volume_db = -3.0

[node name="EnemiesStartSpawning" type="Timer" parent="."]
wait_time = 10.7
one_shot = true
autostart = true

[node name="Tree" parent="." instance=ExtResource("15_pdwmp")]
position = Vector2(-766, 392)

[node name="Tree2" parent="." instance=ExtResource("15_pdwmp")]
position = Vector2(1308, 463)

[node name="Tree3" parent="." instance=ExtResource("15_pdwmp")]
position = Vector2(-537, -441)

[node name="Tree4" parent="." instance=ExtResource("15_pdwmp")]
position = Vector2(-447, -380)

[node name="Tree5" parent="." instance=ExtResource("15_pdwmp")]
position = Vector2(-387, -479)

[node name="Tree6" parent="." instance=ExtResource("15_pdwmp")]
position = Vector2(-288, 1176)

[connection signal="finished" from="IntroPlayer" to="." method="_on_intro_player_finished"]
[connection signal="timeout" from="EnemiesStartSpawning" to="." method="_on_enemies_start_spawning_timeout"]
